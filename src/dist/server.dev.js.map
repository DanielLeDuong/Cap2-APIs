{"version":3,"sources":["server.js"],"names":["START_SERVER","app","hostname","env","APP_HOST","port","APP_PORT","get","req","res","end","listen","console","log","AUTHOR","signal","error","process","exit"],"mappings":";;AAMA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAXA;;;;;AAeA,IAAMA,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,MAAMC,GAAG,GAAG,0BAAZ;AAEA,MAAMC,QAAQ,GAAGC,iBAAIC,QAArB;AACA,MAAMC,IAAI,GAAGF,iBAAIG,QAAjB;AAEAL,EAAAA,GAAG,CAACM,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AAEzBA,IAAAA,GAAG,CAACC,GAAJ,CAAQ,2BAAR;AACD,GAHD;AAKAT,EAAAA,GAAG,CAACU,MAAJ,CAAWN,IAAX,EAAiBH,QAAjB,EAA2B,YAAM;AAC/B;AACAU,IAAAA,OAAO,CAACC,GAAR,iBAAqBV,iBAAIW,MAAzB,+BAAqDZ,QAArD,cAAmEG,IAAnE;AACD,GAHD;AAKA,iCAAS,UAACU,MAAD,EAAY;AACnB;AACD,GAFD;AAID,CApBD,C,CAsBA;;;AACA,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAEGH,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AAFH;AAAA,0CAGS,0BAHT;;AAAA;AAIGD,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAb,UAAAA,YAAY;AALf;AAAA;;AAAA;AAAA;AAAA;AAOGY,UAAAA,OAAO,CAACI,KAAR,eACAC,OAAO,CAACC,IAAR,CAAa,CAAb,CADA;;AAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAD,I,CAYA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/**\n * Updated by trungquandev.com's author on August 17 2023\n * YouTube: https://youtube.com/@trungquandev\n * \"A bit of fragrance clings to the hand that gives flowers!\"\n */\n\nimport express from 'express'\nimport { mapOrder } from '~/utils/sorts.js'\nimport { CLOSE_DB, CONNECT_DB, GET_DB } from '~/config/mongodb'\nimport exitHook from 'async-exit-hook'\nimport 'dotenv/config'\nimport { env } from '~/config/environment'\n\n\n\nconst START_SERVER = () => {\n  const app = express()\n  \n  const hostname = env.APP_HOST\n  const port = env.APP_PORT\n  \n  app.get('/', (req, res) => {\n    \n    res.end('<h1>Hello World!</h1><hr>')\n  })\n  \n  app.listen(port, hostname, () => {\n    // eslint-disable-next-line no-console\n    console.log(`Hello ${env.AUTHOR}, I am running at ${ hostname }:${ port }/`)\n  })\n\n  exitHook((signal) => {\n    CLOSE_DB()\n  })\n\n}\n\n//()() la viet mot ham roi goi lai ham do luon\n(async () => {\n  try {\n    console.log('Connecting....')\n    await CONNECT_DB()\n    console.log('Connected')\n    START_SERVER()\n  } catch (error) {\n    console.error(error),\n    process.exit(0)\n  }\n})()\n\n// CONNECT_DB()\n//   .then(() => console.log('Connecting....'))\n//   .then(() => START_SERVER())\n//   .catch(error => {\n//     console.error(error),\n//     process.exit(0)\n//   })"],"file":"server.dev.js"}