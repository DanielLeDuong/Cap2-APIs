{"version":3,"sources":["server.js"],"names":["_express","_interopRequireDefault","require","_sorts","_mongodb","_asyncExitHook","_environment","START_SERVER","app","hostname","env","APP_HOST","port","APP_PORT","req","res","log","AUTHOR","signal","CLOSE_DB","regeneratorRuntime","async","_context","prev","next","console","awrap","CONNECT_DB","t0","error","process","exit","stop"],"mappings":"aAQA,IAAAA,SAAAC,uBAAAC,QAAA,YADAC,OAAAD,QAAA,oBAEAE,SAAAF,QAAA,oBAAAG,eAAAJ,uBAAAC,QAAA,oBACAA,QAAA,iBACA,IAAAI,aAAAJ,QAAA,gGAIA,IAAMK,aAAe,WAfrB,IAAAC,GAAA,EAAAR,SAAA,WAkBQS,EAAWC,aAAAA,IAAIC,SACfC,EAAOF,aAAAA,IAAIG,SAJnBL,EAAMD,IAAAA,IAAAA,SAAYO,EAAGC,GAGnBA,EAAMN,IAAAA,+BAKJM,EAAAA,OAAQH,EAAAH,EAAA,WAGVD,QAAAQ,IAAAR,SAAAA,OAAiBC,aAAAA,IAAUQ,OAA3BT,sBAAAA,OAAiCC,EAAjCD,KAAAA,OAAiCI,EAAjCJ,SAGC,EAAAH,eAAA,SAHD,SAAAa,IAKA,EAAAd,SAAAe,eAODC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAC,KAAA,EAAAE,QAAAT,IAAA,kBAAAM,EAAAE,KAAA,EAAAJ,mBAAAM,OAAA,EAAAtB,SAAAuB,eAAA,KAAA,EAAAF,QAAAT,IAAA,aAAAT,eAAAe,EAAAE,KAAA,GAAA,MAAA,KAAA,EAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,MAAA,GAAAG,QAAAI,MAAAP,EAAAM,IAAAE,QAAAC,KAAA,GAAA,KAAA,GAAA,IAAA,MAAA,OAAAT,EAAAU,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA","file":"server.min.js","sourcesContent":["/**\n * Updated by trungquandev.com's author on August 17 2023\n * YouTube: https://youtube.com/@trungquandev\n * \"A bit of fragrance clings to the hand that gives flowers!\"\n */\n\nimport express from 'express'\nimport { mapOrder } from '~/utils/sorts.js'\nimport { CLOSE_DB, CONNECT_DB, GET_DB } from '~/config/mongodb'\nimport exitHook from 'async-exit-hook'\nimport 'dotenv/config'\nimport { env } from '~/config/environment'\n\n\n\nconst START_SERVER = () => {\n  const app = express()\n  \n  const hostname = env.APP_HOST\n  const port = env.APP_PORT\n  \n  app.get('/', (req, res) => {\n    \n    res.end('<h1>Hello World!</h1><hr>')\n  })\n  \n  app.listen(port, hostname, () => {\n    // eslint-disable-next-line no-console\n    console.log(`Hello ${env.AUTHOR}, I am running at ${ hostname }:${ port }/`)\n  })\n\n  exitHook((signal) => {\n    CLOSE_DB()\n  })\n\n}\n\n//()() la viet mot ham roi goi lai ham do luon\n(async () => {\n  try {\n    console.log('Connecting....')\n    await CONNECT_DB()\n    console.log('Connected')\n    START_SERVER()\n  } catch (error) {\n    console.error(error),\n    process.exit(0)\n  }\n})()\n\n// CONNECT_DB()\n//   .then(() => console.log('Connecting....'))\n//   .then(() => START_SERVER())\n//   .catch(error => {\n//     console.error(error),\n//     process.exit(0)\n//   })"]}