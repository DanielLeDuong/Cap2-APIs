{"version":3,"sources":["mongodb.js"],"names":["stockDatabaseInstance","clientInstance","MongoClient","env","MONDODB_URI","serverApi","version","ServerApiVersion","v1","strict","deprecationErrors","CONNECT_DB","connect","db","DATABASE_NAME","GET_DB","Error","CLOSE_DB","close"],"mappings":";;;;;;;AAQA;;AACA;;AATA;;;;;AAWA,IAAIA,qBAAqB,GAAG,IAA5B;AAEA,IAAMC,cAAc,GAAG,IAAIC,oBAAJ,CAAgBC,iBAAIC,WAApB,EAAiC;AACpDC,EAAAA,SAAS,EAAE;AACPC,IAAAA,OAAO,EAAEC,0BAAiBC,EADnB;AAEPC,IAAAA,MAAM,EAAE,IAFD;AAGPC,IAAAA,iBAAiB,EAAE;AAHZ;AADyC,CAAjC,CAAvB,C,CAOA;;AACO,IAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAChBV,cAAc,CAACW,OAAf,EADgB;;AAAA;AAGtB;AACAZ,UAAAA,qBAAqB,GAAGC,cAAc,CAACY,EAAf,CAAkBV,iBAAIW,aAAtB,CAAxB;;AAJsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB,C,CAQP;;;;;AACO,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACxB,MAAG,CAACf,qBAAJ,EAA2B,MAAM,IAAIgB,KAAJ,CAAU,gBAAV,CAAN;AAC3B,SAAOhB,qBAAP;AACH,CAHM,C,CAKP;;;;;AACO,IAAMiB,QAAQ,GAAG,SAAXA,QAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACdjB,qBAAqB,CAACkB,KAAtB,EADc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB","sourcesContent":["/**\n * Updated by trungquandev.com's author on August 17 2023\n * YouTube: https://youtube.com/@trungquandev\n * \"A bit of fragrance clings to the hand that gives flowers!\"\n */\n\n\n\nimport { MongoClient, ServerApiVersion } from \"mongodb\"\nimport { env } from \"~/config/environment\"\n\nlet stockDatabaseInstance = null\n\nconst clientInstance = new MongoClient(env.MONDODB_URI, {\n    serverApi: {\n        version: ServerApiVersion.v1,\n        strict: true,\n        deprecationErrors: true\n    }\n})\n//ket noi database\nexport const CONNECT_DB = async () => {\n    await clientInstance.connect()\n\n    //ket noi thanh cong thi lay database name\n    stockDatabaseInstance = clientInstance.db(env.DATABASE_NAME)\n}\n\n\n// khi ket noi xong thi lay ham nay dung o nhung noi khac\nexport const GET_DB = () => {\n    if(!stockDatabaseInstance) throw new Error('Connect first!')\n    return stockDatabaseInstance\n}\n\n//dong ket noi\nexport const CLOSE_DB = async () => {\n    await stockDatabaseInstance.close()\n}"],"file":"mongodb.dev.js"}