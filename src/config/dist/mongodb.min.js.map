{"version":3,"sources":["mongodb.js"],"names":["_mongodb","require","_environment","stockDatabaseInstance","clientInstance","MongoClient","env","MONDODB_URI","serverApi","version","ServerApiVersion","v1","deprecationErrors","regeneratorRuntime","async","_context","prev","next","awrap","connect","CONNECT_DB","db","DATABASE_NAME","stop","GET_DB","Error","CLOSE_DB","_context2","close"],"mappings":"8HAQA,IAAAA,SAAAC,QAAA,WACAC,aAAAD,QAAA,wBATAE,sBAAA,KAaMC,eAAiB,IAAIC,SAAAA,YAAYC,aAAAA,IAAIC,YAAa,CACpDC,UAAW,CACPC,QAASC,SAAAA,iBAAiBC,GAJ9BR,QAAAA,EAEEC,mBAAqBC,KAInBO,WAAmB,WAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAE,KAAA,EAAAJ,mBAAAK,MAHZd,eAAAe,WAGY,KAAA,EAIdC,sBAAAA,eAAaC,GAAAf,aAAAA,IAAAgB,eAJC,KAAA,EAAA,IAAA,MAAA,OAAAP,EAAAQ,yCAID,IAAAC,OAAA,WAAA,IAAArB,sBAAA,MAAA,IAAAsB,MAChBrB,kBAUN,OAAOD,6CAIJ,IAAMuB,SAAW,WAAA,OAAAb,mBAAAC,MAAA,SAAAa,GAAA,OAAA,OAAAA,EAAAX,KAAAW,EAAAV,MAAA,KAAA,EAAA,OAAAU,EAAAV,KAAA,EAAAJ,mBAAAK,MAfEf,sBAAAyB,SAeF,KAAA,EAAA,IAAA,MAAA,OAAAD,EAAAJ","file":"mongodb.min.js","sourcesContent":["/**\n * Updated by trungquandev.com's author on August 17 2023\n * YouTube: https://youtube.com/@trungquandev\n * \"A bit of fragrance clings to the hand that gives flowers!\"\n */\n\n\n\nimport { MongoClient, ServerApiVersion } from \"mongodb\"\nimport { env } from \"~/config/environment\"\n\nlet stockDatabaseInstance = null\n\nconst clientInstance = new MongoClient(env.MONDODB_URI, {\n    serverApi: {\n        version: ServerApiVersion.v1,\n        strict: true,\n        deprecationErrors: true\n    }\n})\n//ket noi database\nexport const CONNECT_DB = async () => {\n    await clientInstance.connect()\n\n    //ket noi thanh cong thi lay database name\n    stockDatabaseInstance = clientInstance.db(env.DATABASE_NAME)\n}\n\n\n// khi ket noi xong thi lay ham nay dung o nhung noi khac\nexport const GET_DB = () => {\n    if(!stockDatabaseInstance) throw new Error('Connect first!')\n    return stockDatabaseInstance\n}\n\n//dong ket noi\nexport const CLOSE_DB = async () => {\n    await stockDatabaseInstance.close()\n}"]}